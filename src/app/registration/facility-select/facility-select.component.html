<form [formGroup]="myForm">
    <fieldset class="form-group">
        <label for="passType">Park Type (Trail or Parking)</label>
        <select class="form-control" formControlName="passType" id="passType" (change)="setState('date')">
            <option *ngFor="let facility of facilities" [ngValue]="facility">
                {{facility.name}} - Moderate Availability
            </option>
        </select>
    </fieldset>
    <div class="form-group">
        <label for="visitDate">Visit Date</label>
        <app-date-picker [control]="myForm.controls.visitDate" [isValidate]="true" [minDate]="minDate"
            (formChangeEvent)="dateChangeEvent()" [maxDate]="maxDate" [isDisabled]="isDisabled('date')">
        </app-date-picker>
    </div>
    <fieldset class="form-group" [disabled]="isDisabled('time')">
        <label for="visitDate">Booking Time</label>
        <select class="form-control" formControlName="visitTime" id="visitTime" (change)="setState('passes')"
            placeholder="Select Booking Time">
            <option selected>AM</option>
            <option>PM</option>
            <option>All Day</option>
        </select>
    </fieldset>
    <fieldset class="form-group">
        <label for="passCount">Number of Passes Required</label>
        <div *ngIf="state < getStateByString('passes') || !checkPassType()">
            <input type="text" class="form-control" id="passCount" disabled>
        </div>
        <div *ngIf="state >= getStateByString('passes') && checkPassType() === 'trail'">
            <select class="form-control" formControlName="passCount" id="passCount"
                placeholder="Select Number of Passes">
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
            </select>
            <label class="label-info" for="passCount">You may request up to four trail passes at a time.</label>
        </div>
        <div *ngIf="state === getStateByString('passes') && checkPassType() === 'parking'">

            <select class="form-control" formControlName="passCount" id="passCount" readonly>
                <option selected>1</option>
            </select>
            <label class="label-info" for="passCount">You may only request 1 parking pass at a time.</label>
        </div>
    </fieldset>
</form>
<div class="text-right mt-4">
    <button type="button" [disabled]="myForm.status === 'INVALID'" class="btn btn-primary btn-lg"
        (click)="submit()">Next</button>
</div>